name: autonomous-agent
version: "3.1.0"
description: è‡ªä¸»æ‰§è¡Œå±‚ v3.1 - å¼ºåˆ¶æ£€æŸ¥ç‚¹ã€çŸ¥è¯†å…ˆè¡Œã€åŠ¨æ€è§„åˆ’ã€è‡ªåŠ¨ä¿®å¤ã€å·¥ä½œæµç”Ÿæˆã€å¼ºåˆ¶éªŒè¯

# ğŸš¨ å¼ºåˆ¶æ£€æŸ¥ç‚¹é…ç½®ï¼ˆv3.1 æ–°å¢ - æœ€é«˜ä¼˜å…ˆçº§ï¼‰
checkpoints:
  enabled: true
  mandatory: true
  fail_on_missing: true
  
  required_checkpoints:
    - id: "checkpoint_1"
      name: "åˆå§‹åŒ–å®Œæˆ"
      description: "æ‰§è¡Œ Python åˆå§‹åŒ–å‘½ä»¤"
      required_output: "[æ£€æŸ¥ç‚¹1] âœ… åˆå§‹åŒ–å®Œæˆ"
      
    - id: "checkpoint_2"
      name: "ä»»åŠ¡è§£æå®Œæˆ"
      description: "åˆ†ææ ¸å¿ƒç›®æ ‡ã€å¤æ‚åº¦ã€æ‰§è¡Œæ¨¡å¼"
      required_output: "[æ£€æŸ¥ç‚¹2] âœ… ä»»åŠ¡è§£æå®Œæˆ"
      
    - id: "checkpoint_3"
      name: "æ™ºèƒ½æ¨èå®Œæˆ"
      description: "è°ƒç”¨ intelligent-workflow-assistant å¹¶è§£æç»“æœ"
      required_output: "[æ£€æŸ¥ç‚¹3] âœ… æ™ºèƒ½æ¨èå®Œæˆ"
      
    - id: "checkpoint_4"
      name: "æ‰§è¡Œæ¨¡å¼é€‰æ‹©å®Œæˆ"
      description: "è°ƒç”¨ swarm-orchestrator æˆ– workflow-runner"
      required_output: "[æ£€æŸ¥ç‚¹4] âœ… æ‰§è¡Œæ¨¡å¼é€‰æ‹©å®Œæˆ"
      
    - id: "checkpoint_5"
      name: "éªŒè¯å®Œæˆ"
      description: "è¯­æ³•æ£€æŸ¥ã€åŠŸèƒ½æµ‹è¯•ã€ç›®æ ‡éªŒè¯"
      required_output: "[æ£€æŸ¥ç‚¹5] âœ… éªŒè¯å®Œæˆ"
      
    - id: "checkpoint_6"
      name: "çŸ¥è¯†æ²‰æ·€å®Œæˆ"
      description: "ä¿å­˜æ‰§è¡Œç»éªŒåˆ° .trae/knowledge/"
      required_output: "[æ£€æŸ¥ç‚¹6] âœ… çŸ¥è¯†æ²‰æ·€å®Œæˆ"

  # ç¦æ­¢è¡Œä¸º
  forbidden_actions:
    - "è·³è¿‡ä»»ä½•æ£€æŸ¥ç‚¹"
    - "åœ¨å®Œæˆæ­¥éª¤1-4ä¹‹å‰å¼€å§‹ç¼–ç "
    - "å¿½ç•¥ intelligent-workflow-assistant çš„è¿”å›ç»“æœ"
    - "çœç•¥æ£€æŸ¥ç‚¹è¾“å‡º"

triggers:
  - "å¼€å§‹"
  - "ç»§ç»­"
  - "è‡ªä¸»æ‰§è¡Œ"
  - "è‡ªåŠ¨è§„åˆ’"
  - "è‡ªåŠ¨ä¿®å¤"
  - "autonomous"
  - "agentæ‰§è¡Œ"
  - "æ™ºèƒ½å·¥ä½œæµ"
  - "æ™ºèƒ½è·¯ç”±"

category: "automation"
tags:
  - "autonomous"
  - "routing"
  - "validation"
  - "self-healing"
  - "workflow"
  - "knowledge-research"

# â­ çŸ¥è¯†è°ƒç ”é…ç½®ï¼ˆv3.0 æ–°å¢ï¼‰
knowledge_research:
  enabled: true
  mandatory: true
  
  # åˆå§‹åŒ–æ£€æŸ¥ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰
  auto_init:
    enabled: true                    # å¯ç”¨è‡ªåŠ¨åˆå§‹åŒ–
    check_on_start: true             # æ¯æ¬¡å¯åŠ¨æ—¶æ£€æŸ¥
    create_if_missing: true          # ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»º
    
  # è§¦å‘æ¡ä»¶
  triggers:
    new_tech: true              # æ–°æŠ€æœ¯å¿…é¡»è°ƒç ”
    version_upgrade: true       # ç‰ˆæœ¬å‡çº§å¿…é¡»è°ƒç ”
    industry_specific: true     # è¡Œä¸šç‰¹å®šçŸ¥è¯†å¿…é¡»è°ƒç ”
    cross_domain: true          # è·¨é¢†åŸŸä»»åŠ¡å¿…é¡»è°ƒç ”
    no_workflow: true           # â­ æ— å¯ç”¨å·¥ä½œæµæ—¶å¿…é¡»è°ƒç ”
  
  # çŸ¥è¯†æºä¼˜å…ˆçº§
  sources:
    - type: "official_docs"
      priority: 0
      description: "å®˜æ–¹æ–‡æ¡£"
      examples: ["react.dev", "vuejs.org", "python.org"]
      
    - type: "industry_standards"
      priority: 1
      description: "è¡Œä¸šæ ‡å‡†/è§„èŒƒ"
      examples: ["OpenAPI Spec", "W3Cæ ‡å‡†", "ISOæ ‡å‡†"]
      
    - type: "official_blog"
      priority: 2
      description: "å®˜æ–¹åšå®¢"
      examples: ["React Blog", "Node.js Blog"]
      
    - type: "github"
      priority: 3
      description: "GitHubä»“åº“ã€Issuesã€Discussions"
      
    - type: "tech_community"
      priority: 4
      description: "æŠ€æœ¯ç¤¾åŒº"
      examples: ["Stack Overflow", "Dev.to"]
      
    - type: "tutorials"
      priority: 5
      description: "ä¸“ä¸šæ•™ç¨‹"
  
  # è°ƒç ”æµç¨‹é…ç½®
  workflow:
    max_research_time: 300      # æœ€å¤§è°ƒç ”æ—¶é—´ï¼ˆç§’ï¼‰
    cross_validate: true        # äº¤å‰éªŒè¯
    min_sources: 2              # æœ€å°‘éªŒè¯æ¥æºæ•°
    recency_months: 12          # ä¿¡æ¯æ—¶æ•ˆæ€§ï¼ˆæœˆï¼‰
  
  # çŸ¥è¯†å­˜å‚¨
  storage:
    base_dir: ".trae/knowledge"
    index_file: ".trae/knowledge/index.json"
    template_dir: ".trae/knowledge/_templates"
    
  # çŸ¥è¯†æ—¶æ•ˆæ€§
  freshness:
    check_on_use: true          # ä½¿ç”¨æ—¶æ£€æŸ¥æ—¶æ•ˆ
    warn_after_months: 12       # è¶…è¿‡æ­¤æœˆæ•°è­¦å‘Š
    expire_after_months: 24     # è¶…è¿‡æ­¤æœˆæ•°æ ‡è®°è¿‡æœŸ

# æ™ºèƒ½è·¯ç”±é…ç½®
routing:
  # ä»»åŠ¡ç±»å‹è¯†åˆ«
  task_patterns:
    standard:
      patterns:
        - "å®‰å…¨æ‰«æ"
        - "ä»£ç å®¡æŸ¥"
        - "æµ‹è¯•è¦†ç›–ç‡"
        - "ä¾èµ–æ£€æŸ¥"
        - "æ€§èƒ½æµ‹è¯•"
        - "security"
        - "review"
        - "test"
        - "coverage"
      action: "workflow"
      reason: "æ ‡å‡†åŒ–ä»»åŠ¡ï¼Œä½¿ç”¨é¢„å®šä¹‰å·¥ä½œæµ"
      require_research: false
      
    repetitive:
      patterns:
        - "æ¯å¤©"
        - "æ¯å‘¨"
        - "å®šæ—¶"
        - "è‡ªåŠ¨"
        - "å‘¨æœŸ"
        - "daily"
        - "weekly"
        - "schedule"
      action: "workflow"
      reason: "é‡å¤æ€§ä»»åŠ¡ï¼Œç”Ÿæˆå¯å¤ç”¨å·¥ä½œæµ"
      require_research: false
      
    one_time:
      patterns:
        - "å¸®æˆ‘å†™"
        - "ä¿®æ”¹è¿™ä¸ª"
        - "ä¼˜åŒ–ä¸€ä¸‹"
        - "ä¿®å¤"
        - "åˆ›å»º"
        - "write"
        - "modify"
        - "optimize"
        - "fix"
      action: "builtin"
      reason: "ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œä½¿ç”¨å†…ç½®å·¥å…·"
      require_research: true     # æ£€æµ‹æ˜¯å¦æ¶‰åŠæ–°æŠ€æœ¯
      
    complex:
      patterns:
        - "é‡æ„"
        - "æ¶æ„"
        - "ç³»ç»Ÿè®¾è®¡"
        - "è¿ç§»"
        - "é›†æˆ"
        - "refactor"
        - "architecture"
      action: "hybrid"
      reason: "å¤æ‚ä»»åŠ¡ï¼Œæ··åˆæ¨¡å¼"
      require_research: true     # å¤æ‚ä»»åŠ¡å¿…é¡»è°ƒç ”

# éªŒè¯é…ç½®ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰
validation:
  enabled: true
  strict: true
  
  code_quality:
    - name: "è¯­æ³•æ£€æŸ¥"
      type: "lint"
      fail_action: "block"
      
    - name: "ç±»å‹æ£€æŸ¥"
      type: "typecheck"
      fail_action: "block"
      
    - name: "å†…å­˜æ³„æ¼æ£€æŸ¥"
      type: "memory"
      checks:
        - "å®šæ—¶å™¨æ¸…ç†"
        - "äº‹ä»¶ç›‘å¬å™¨æ¸…ç†"
        - "DOMå¼•ç”¨æ¸…ç†"
      fail_action: "block"
      
  runtime:
    - name: "åŠŸèƒ½æµ‹è¯•"
      type: "functional"
      fail_action: "block"
      
    - name: "è¾¹ç•Œæµ‹è¯•"
      type: "boundary"
      fail_action: "warn"
      
  goal_achievement:
    enabled: true
    check_original_goal: true
    verify_functionality: true

# æ‰§è¡Œé…ç½®
execution:
  # æ™ºèƒ½è·¯ç”±è„šæœ¬
  router_script: ".trae/workflows/smart_router.py"
  
  # è‡ªä¸»æ‰§è¡Œè„šæœ¬
  agent_script: ".trae/workflows/autonomous_agent.py"
  
  # å‘½ä»¤æ¨¡æ¿
  commands:
    analyze: "python {router_script} \"{task}\" --files {files}"
    execute: "python {agent_script} task \"{task}\""
    validate: "python {router_script} \"{task}\" --files {files}"
    
  # é¢„è®¾å‘½ä»¤
  presets:
    security: "python {agent_script} security"
    review: "python {agent_script} review"
    test: "python {agent_script} test"
    deps: "python {agent_script} deps"
    analyze: "python {agent_script} analyze"

# å·¥ä½œæµé›†æˆ
integration:
  workflow_manager: ".trae/workflows/workflow_manager_v2.py"
  workflow_dirs:
    - ".trae/workflows"
    - "C:/Users/Administrator/.trae-cn/workflows"

# è¾“å‡ºé…ç½®
output:
  report_dir: "output"
  report_format: "markdown"
  include_validation: true
  include_execution_log: true
  include_knowledge_research: true  # v3.0 æ–°å¢

# è‡ªåŠ¨æ‰§è¡Œé…ç½®
auto_execute:
  # è§¦å‘æ—¶è‡ªåŠ¨æ‰§è¡ŒéªŒè¯
  on_trigger: true
  # å¤±è´¥æ—¶è‡ªåŠ¨ä¿®å¤
  auto_heal: true
  # æœ€å¤§ä¿®å¤å°è¯•æ¬¡æ•°ï¼ˆè®¾ä¸ºæå¤§å€¼ï¼Œå‡ ä¹ä¸åœæ­¢ï¼‰
  max_heal_attempts: 999
  # æ°¸ä¸åœæ­¢æ ‡å¿—
  never_stop: true
  # é™é»˜æ¨¡å¼ï¼šä¸è¯¢é—®ç”¨æˆ·ï¼Œè‡ªåŠ¨å¤„ç†
  silent_mode: true
  # çŸ¥è¯†è°ƒç ”å¤±è´¥æ—¶ç»§ç»­æ‰§è¡Œ
  continue_on_research_failure: true
